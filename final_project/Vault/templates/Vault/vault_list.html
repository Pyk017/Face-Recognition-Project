{% extends "fr/base.html" %}{% load crispy_forms_tags %}{% load static %}
<!--testing -->{% block content %}

<style>
  td {
    word-break: break-all;
  }
  .filecontent {
    text-align: center;
  }
  .download {
    display: block;
    float: right;
  }
  #search::placeholder {
    color: black;
    opacity: 0.7;
  }
  .form-control:valid {
    background-image: linear-gradient(
        to top,
        #9c27b0 3px,
        rgba(156, 39, 176, 0) 2px
      ),
      linear-gradient(to top, #3a1818 1px, rgba(210, 210, 210, 0) 1px);
  }
</style>

<div class="mid-heading">
  <div class="back">
    <!-- <a href="{% url 'profile' %}" class="previous">&#171;</a> -->
  </div>
  <div class="stored">
    <h3 class="title">Personal Vault</h3>
  </div>
  <a href="{% url 'vault-upload' %}" class="plusicon">
    <img
      src="{% static 'fr/plusmath.png' %}"
      alt="plusIcon"
      width="70"
      height="70"
    />
  </a>
</div>

{% if data %}

<div class="row justify-content-center">
  <form method="GET" style="width: 75%">
    <input
      class="form-control me-2"
      type="search"
      placeholder="Search"
      style="color: black"
      aria-label="Search"
      name="search-area"
      id="search"
    />
    <button class="btn btn-primary" type="submit">Search</button>
  </form>
</div>

<div class="d-flex justify-content-center">
  <table
    class="table table-striped table-bordered text-center mb-3"
    style="width: 100%"
  >
    <thead class="thead-dark">
      <tr>
        <th scope="col">Description</th>
        <th scope="col">Date</th>
        <th scope="col">File</th>
        <th scope="col">Image</th>
      </tr>
    </thead>
    <tbody>
      {% for d in data %}
      <tr>
        <th scope="row">{{ d.description|title }}</th>
        <td>{{ d.date_created.date }}</td>
        <td class="filecontent">
          <div>
            {{ d.fileUpload_name }}
            <!-- <div class="icon"> -->
            <a href="{{d.fileUpload.url}}" download="{{d.fileUpload_name}}"
              ><img
                src="{% static 'fr/download.png' %}"
                class="download"
                width="30"
                height="30"
            /></a>
            <!-- </div> -->
          </div>
        </td>
        <td class="filecontent">
          <div>
            {{ d.image_name }}
            <!-- <div class="icon"> -->
            <a href="{{d.image.url}}" download="{{d.image}}"
              ><img
                src="{% static 'fr/download.png' %}"
                class="download"
                width="30"
                height="30"
            /></a>
            <!-- </div> -->
          </div>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% else %}

<div class="d-flex justify-content-center">
  <h2>Please Upload your files. We keep them safe.</h2>
</div>

{% endif %}

<!-- {% if data %} {% for d in data %}
<h3>{{d.description}} - {{d.date_created}}</h3>

<a href="{{d.image.url}}" target="_blank"
  ><img src="{{d.image.url}}" alt="image"
/></a>
{{d.fileUpload}} {% endfor %} {% else %}
<h2>Please add some Content</h2>
{% endif%}

<div class="d-flex justify-content-center">
  <a href="{% url 'vault-upload' %}"
    ><button class="btn btn-primary">Upload</button></a
  >
</div> -->

{% endblock content%}
