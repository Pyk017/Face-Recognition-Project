{% load static %} {% load crispy_forms_tags %}

<html>
  <head>
    <meta id="my_private_data" data-pass="{{ data.password }}" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css"
      integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX"
      crossorigin="anonymous"
    />
    <link
      href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <link
      rel="stylesheet"
      href="https://rawgit.com/creativetimofficial/material-kit/master/assets/css/material-kit.css"
    />
    <link
      href="{% static 'fr/profile.css' %}"
      rel="stylesheet"
      type="text/css"
    />
    <script src="{% static 'Passwords/password_detail.js' %}"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script
      src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js"
      integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://unpkg.com/bootstrap-material-design@4.1.1/dist/js/bootstrap-material-design.js"
      integrity="sha384-CauSuKpEqAFajSpkdjv3z9t8E7RlpJ1UP0lKM/+NdtSarroVKu069AlsRPKkFBz9"
      crossorigin="anonymous"
    ></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"> -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <!-- <script src="{% static 'fr/profile.js' %}"></script> -->
  </head>
  <title>Password Detail</title>
  <style>
    td {
      text-overflow: ellipsis;
    }
    #password {
      color: inherit;
      font-size: inherit;
      line-height: inherit;
      background-color: transparent;
      border: none;
      text-align: center;
    }
    .icon {
      cursor: pointer;
    }
  </style>

  <script type="text/javascript"></script>

  <body class="profile-page" onload="start()">
    <!-- Navbar -->
    <nav
      class="
        navbar navbar-color-on-scroll navbar-transparent
        fixed-top
        navbar-expand-lg
      "
      color-on-scroll="100"
      id="sectionsNav"
    >
      <div class="container">
        <div class="navbar-translate">
          <a class="navbar-brand" href="{% url 'profile' %}">FacePass</a>
          <button
            class="navbar-toggler"
            type="button"
            data-toggle="collapse"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
            <span class="navbar-toggler-icon"></span>
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
        <!-- Navbar Items -->
        <div class="collapse navbar-collapse">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="{% url 'edit_profile' %}">
                Edit Profile
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'edit_password' %}">
                Edit Password
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'logout' %}"> Logout </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div
      class="page-header header-filter"
      data-parallax="true"
      style="
        background-image: linear-gradient(
            to bottom,
            rgba(92, 77, 66, 0.7) 0%,
            rgba(92, 77, 66, 0.7) 100%
          ),
          url('/static/fr/bg.jpg');
      "
    ></div>
    <div class="main main-raised">
      <div class="profile-content">
        <div class="container">
          <div class="row">
            <div class="col-md-6 ml-auto mr-auto">
              <div class="profile">
                {% if user.profile.image %}
                <div class="avatar">
                  <img
                    src="{{ user.profile.image.url }}"
                    alt="Circle Image"
                    class="img-raised rounded-circle img-fluid"
                  />
                </div>
                {% endif %}

                <div class="name">
                  <h2 class="title">{{user.username}}</h2>
                  <h4 class="text-muted">{{user.email}}</h4>
                </div>
              </div>
            </div>
          </div>

          <div class="d-flex justify-content-center">
            <h5 class="title">Details</h5>
          </div>
          <div class="d-flex justify-content-center">
            <table
              class="table table-striped table-bordered text-center mb-3"
              style="width: 70%"
            >
              <thead class="thead-dark">
                <tr>
                  <th scope="col">Title</th>
                  <th scope="col">UserID</th>
                  <th scope="col">Link</th>
                  <th scope="col">Password</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">{{ data.site_name }}</th>
                  <td>{{ data.user_id }}</td>
                  <td>{{ data.link }}</td>
                  <td>
                    <input
                      type="password"
                      value="{{ data.password }}"
                      id="password"
                      name="enc_string"
                      disabled
                    />
                    <input
                      type="password"
                      value="{{ form_input }}"
                      id="password"
                      disabled
                      style="display: none"
                      name="result_string"
                    />
                  </td>

                  <td>
                    <div class="icon">
                      <span class="material-icons" onclick="test(this)"
                        >visibility</span
                      >
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <br />

          <div class="d-flex justify-content-center">
            <form method="GET" id="newForm">
              <p>
                Your Password is encryted with secured.
                <a href="#" id="decrypt" onclick="decryption(this)"
                  ><b>Click here</b>
                </a>
                to view the original password.
              </p>
            </form>
          </div>

          <div class="d-flex justify-content-center">
            <a href="{% url 'password-update' object.id %}"
              ><button class="btn btn-primary mr-2" type="submit">
                UPDATE
              </button></a
            >
            <a href="{% url 'password-delete' object.id%}"
              ><button class="btn btn-primary" type="submit">DELETE</button></a
            >
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
