{% extends "fr/base.html" %}{% load static %}
<!--testing -->{% block content %} {% load crispy_forms_tags %}

<style>
  input::placeholder {
    color: black;
  }
  .form-group > label {
    color: #9c27b0;
    font-weight: bold;
  }
  .form-group {
    width: 40%;
  }
  #div_id_user_id {
    word-wrap: break-word;
  }
  .textinput {
    border-bottom: 0px solid black;
  }
  .form-control:invalid {
    background-image: linear-gradient(
        to top,
        #f44336 3px,
        rgba(244, 67, 54, 0) 2px
      ),
      linear-gradient(to top, #3a1818 1px, rgba(210, 210, 210, 0) 1px);
  }
  .form-control:valid {
    background-image: linear-gradient(
        to top,
        #9c27b0 3px,
        rgba(156, 39, 176, 0) 2px
      ),
      linear-gradient(to top, #3a1818 1px, rgba(210, 210, 210, 0) 1px);
  }
</style>

<div class="d-flex justify-content-center">
  <h5 class="title">Add New Password</h5>
</div>
<div class="">
  <form method="post">
    {% csrf_token %}
    <!-- <div class="d-flex" style="justify-content: space-evenly; flex-wrap: wrap">
      {{form|crispy}}
    </div> -->
    <div class="d-flex" style="justify-content: space-evenly; flex-wrap: wrap">
      <div id="div_id_site_name" class="form-group bmd-form-group">
        <label for="id_site_name" class="requiredField bmd-label-static">
          Site name<span class="asteriskField">*</span>
        </label>
        <div class="">
          <input
            type="text"
            name="site_name"
            maxlength="100"
            class="textinput textInput form-control"
            required=""
            id="id_site_name"
          />
        </div>
      </div>
      <div id="div_id_user_id" class="form-group bmd-form-group">
        <label for="id_user_id" class="requiredField bmd-label-static">
          User id<span class="asteriskField">*</span>
        </label>
        <div class="">
          <input
            type="text"
            name="user_id"
            maxlength="100"
            class="textinput textInput form-control"
            required=""
            id="id_user_id"
          />
        </div>
      </div>
      <div id="div_id_password" class="form-group bmd-form-group">
        <label for="id_password" class="requiredField bmd-label-static">
          Password<span class="asteriskField">*</span>
        </label>
        <div class="">
          <input
            type="text"
            name="password"
            maxlength="100"
            class="textinput textInput form-control"
            required=""
            id="id_password"
            value=""
          />
        </div>
        <span
          style="float: right; cursor: pointer; color: #9c27b0"
          id="suggest"
          form="gettingform"
          ><b>Suggest Strong Password</b></span
        >
      </div>
      <div id="div_id_link" class="form-group bmd-form-group">
        <label for="id_link" class="bmd-label-static"> Link </label>
        <div class="">
          <input
            type="text"
            name="link"
            maxlength="1000"
            class="textinput textInput form-control"
            id="id_link"
          />
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-center">
      <button type="submit" class="btn btn-primary">Create</button>
    </div>
  </form>
</div>

<form method="GET" id="gettingform"></form>

<script>
  document.getElementById("suggest").addEventListener("click", () => {
    document.getElementById("id_password").value = generatePassword(10);
  });
  function generatePassword(length, charSet) {
    charSet = charSet
      ? charSet
      : "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789^!\$%&/()=?`*+~'#,;.:-_";
    return Array.apply(null, Array(length || 10))
      .map(function () {
        return charSet.charAt(Math.random() * charSet.length);
      })
      .join("");
  }
</script>

{% endblock %}
